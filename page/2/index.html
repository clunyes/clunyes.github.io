<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  
  <meta name="keywords" content="Hexo, NexT" />


<meta name="description" content="好想去看dac">
<meta property="og:type" content="website">
<meta property="og:title" content="clunyes_blog">
<meta property="og:url" content="http://clunyes.github.io/page/2/index.html">
<meta property="og:site_name" content="clunyes_blog">
<meta property="og:description" content="好想去看dac">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="clunyes_blog">
<meta name="twitter:description" content="好想去看dac">






  <link rel="canonical" href="http://clunyes.github.io/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>clunyes_blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">clunyes_blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/02/22/android热修复原理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/22/android热修复原理/" itemprop="url">android热修复原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-22T17:42:36+08:00">2017-02-22</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>目前常用的热修复技术</p>
<pre><code>AndFix   采用的是Native hook方案

Nuwa, HotFix, RocooFix  采用的是QQ空间提出的Classloader替换类的方案

Tinker  采用的是Instant Run的冷插拔原理的Dex替换
</code></pre><p>以下一一分析</p>
<pre><code>native hook：  在native层进行指针替换，AndFix基于修复包和原生包的区别，加入注解，
通过这份注解来找到要替换的方法，如果可以就会hook该方法并进行替换。
</code></pre><hr>
<pre><code>Nuwa Hotfix RocooFix这些方案是基于dex分包方案
</code></pre><hr>
<pre><code>什么是dex分包：

当 Android 系统安装一个应用的时候，有一步是对 Dex 进行优化，这个过程有一个专门的工具来处理，叫 DexOpt。DexOpt 
是在第一次加载 Dex 文件的时候执行的。这个过程会生成一个 ODEX 文件，即 Optimised Dex。
执行 ODEX 的效率会比直接执行 Dex 文件的效率要高很多。

但是在早期的 Android 系统中，DexOpt 有两个问题。
（一）：DexOpt 会把每一个类的方法 id 检索起来，存在一个链表结构里面，但是这个链表的长度是用一个 short 类型来保存的，
导致了方法 id 的数目不能够超过65536个。一个dex文件最多只支持65536个方法。
（官方提出了multidex的解决方案）

（二）：Dexopt 使用 LinearAlloc 来存储应用的方法信息。Dalvik LinearAlloc 是一个固定大小的缓冲区。
在Android 版本的历史上，LinearAlloc 分别经历了4M/5M/8M/16M限制。Android 2.2和2.3的缓冲区只有5MB，
Android 4.x提高到了8MB 或16MB。当方法数量过多导致超出缓冲区大小时，也会造成dexopt崩溃。
</code></pre><hr>
<pre><code>由于上述问题的存在，通过不断研究，便有了dex分包的解决方案。
</code></pre><hr>
<pre><code>简单来说，其原理是将编译好的class文件拆分打包成两个dex，绕过dex方法数量的限制以及安装时的检查，在运行时再动态加载第二个dex文件中。
原则上两个dex的类是没有重复的 ，如果classes.dex和classes1.dex中有重复的类，当用到这个重复的类的时候，系统会选择哪个类进行加载呢？
</code></pre><p>理论知识来了：<br>    一个ClassLoader可以包含多个dex文件，每个dex文件是一个Element，多个dex文件排列成一个有序的数组dexElements，<br>当找类的时候，会按顺序遍历dex文件，然后从当前遍历的dex文件中找类，如果找类则返回，如果找不到从下一个dex文件继续查找。</p>
<p>那么，如果有重复的类，以前面的dex为准。把有问题的类打包到一个dex（patch.dex）中去，然后把这个dex插入到Elements的最前面，就能实现热修复了。</p>
<p>理论到此为止。</p>
<hr>
<pre><code>Tinker的原理：Instant Run的冷插拔，完全使用了新的Dex，但是又不能直接替换dex，那么怎么做呢。

在编译时通过新旧两个Dex生成差异patch.dex。在运行时，将差异patch.dex重新跟原始安装包的旧Dex还原为新的Dex。
这里就涉及到怎么最优算patch包的问题。

这套方案有两个缺点：占用更多空间。

一个额外的合成过程；虽然我们单独放在一个进程上处理，但是合成时间的长短与内存消耗也会影响最终的成功率
(与修改Dex大小、补丁大小相关)。
</code></pre><p>但是我觉得这两个缺点都不是问题，毕竟热修复不能当做更新来用。。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/02/20/android系统分析/AIDL的梳理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/20/android系统分析/AIDL的梳理/" itemprop="url">AIDL的梳理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-20T18:06:36+08:00">2017-02-20</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>android IPC 不得不提到AIDL，其余广播 bundle ContentProvider以及socket</p>
<p>其中又以AIDL最为关键（在android中就是这样）。</p>
<p>其中又有一个关键字Binder，在我理解看来Binder是一个桥梁。</p>
<p>下面演示下binder，按照android开发艺术探索的指引，生成IBookManager.java文件</p>
<pre><code>/*
 * This file is auto-generated.  DO NOT MODIFY.
 * Original file: E:\\workspace_study\\ZKTestProject\\app\\src\\main\\aidl\\com\\zhaokang\\zktestproject\\IBookManager.aidl
 */
package com.zhaokang.zktestproject;

public interface IBookManager extends android.os.IInterface {
    /**
     * Local-side IPC implementation stub class.
     */
    public static abstract class Stub extends android.os.Binder implements com.zhaokang.zktestproject.IBookManager {
        private static final java.lang.String DESCRIPTOR = &quot;com.zhaokang.zktestproject.IBookManager&quot;;

        /**
         * Construct the stub at attach it to the interface.
         */
        public Stub() {
            this.attachInterface(this, DESCRIPTOR);
        }

        /**
         * Cast an IBinder object into an com.zhaokang.zktestproject.IBookManager interface,
         * generating a proxy if needed.
         */
        public static com.zhaokang.zktestproject.IBookManager asInterface(android.os.IBinder obj) {
            if ((obj == null)) {
                return null;
            }
            android.os.IInterface iin = obj.queryLocalInterface(DESCRIPTOR);
            if (((iin != null) &amp;&amp; (iin instanceof com.zhaokang.zktestproject.IBookManager))) {
                return ((com.zhaokang.zktestproject.IBookManager) iin);
            }
            return new com.zhaokang.zktestproject.IBookManager.Stub.Proxy(obj);
        }

        @Override
        public android.os.IBinder asBinder() {
            return this;
        }

        @Override
        public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException {
            switch (code) {
                case INTERFACE_TRANSACTION: {
                    reply.writeString(DESCRIPTOR);
                    return true;
                }
                case TRANSACTION_getBookList: {
                    data.enforceInterface(DESCRIPTOR);
                    java.util.List&lt;com.zhaokang.zktestproject.Book&gt; _result = this.getBookList();
                    reply.writeNoException();
                    reply.writeTypedList(_result);
                    return true;
                }
                case TRANSACTION_addBook: {
                    data.enforceInterface(DESCRIPTOR);
                    com.zhaokang.zktestproject.Book _arg0;
                    if ((0 != data.readInt())) {
                        _arg0 = com.zhaokang.zktestproject.Book.CREATOR.createFromParcel(data);
                    } else {
                        _arg0 = null;
                    }
                    this.addBook(_arg0);
                    reply.writeNoException();
                    return true;
                }
            }
            return super.onTransact(code, data, reply, flags);
        }

        private static class Proxy implements com.zhaokang.zktestproject.IBookManager {
            private android.os.IBinder mRemote;

            Proxy(android.os.IBinder remote) {
                mRemote = remote;
            }

            @Override
            public android.os.IBinder asBinder() {
                return mRemote;
            }

            public java.lang.String getInterfaceDescriptor() {
                return DESCRIPTOR;
            }

            @Override
            public java.util.List&lt;com.zhaokang.zktestproject.Book&gt; getBookList() throws android.os.RemoteException {
                android.os.Parcel _data = android.os.Parcel.obtain();
                android.os.Parcel _reply = android.os.Parcel.obtain();
                java.util.List&lt;com.zhaokang.zktestproject.Book&gt; _result;
                try {
                    _data.writeInterfaceToken(DESCRIPTOR);
                    mRemote.transact(Stub.TRANSACTION_getBookList, _data, _reply, 0);
                    _reply.readException();
                    _result = _reply.createTypedArrayList(com.zhaokang.zktestproject.Book.CREATOR);
                } finally {
                    _reply.recycle();
                    _data.recycle();
                }
                return _result;
            }

            @Override
            public void addBook(com.zhaokang.zktestproject.Book book) throws android.os.RemoteException {
                android.os.Parcel _data = android.os.Parcel.obtain();
                android.os.Parcel _reply = android.os.Parcel.obtain();
                try {
                    _data.writeInterfaceToken(DESCRIPTOR);
                    if ((book != null)) {
                        _data.writeInt(1);
                        book.writeToParcel(_data, 0);
                    } else {
                        _data.writeInt(0);
                    }
                    mRemote.transact(Stub.TRANSACTION_addBook, _data, _reply, 0);
                    _reply.readException();
                } finally {
                    _reply.recycle();
                    _data.recycle();
                }
            }
        }

        static final int TRANSACTION_getBookList = (android.os.IBinder.FIRST_CALL_TRANSACTION + 0);
        static final int TRANSACTION_addBook = (android.os.IBinder.FIRST_CALL_TRANSACTION + 1);
    }

    public java.util.List&lt;com.zhaokang.zktestproject.Book&gt; getBookList() throws android.os.RemoteException;

    public void addBook(com.zhaokang.zktestproject.Book book) throws android.os.RemoteException;
}
</code></pre><hr>
<p>再贴下service的代码<br>    package com.zhaokang.zktestproject;</p>
<pre><code>import android.app.Service;
import android.content.Intent;
import android.os.Binder;
import android.os.IBinder;
import android.os.RemoteCallbackList;
import android.os.RemoteException;
import android.os.SystemClock;
import android.util.Log;

import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;
import java.util.concurrent.atomic.AtomicBoolean;

public class BookManagerService extends Service {

    private static final String TAG = &quot;BMS&quot;;

    private AtomicBoolean mIsServiceDestroyed = new AtomicBoolean(false);

    private CopyOnWriteArrayList&lt;Book&gt; mBookList = new CopyOnWriteArrayList&lt;&gt;();

    private RemoteCallbackList&lt;IOnNewBookArrivedListener&gt; mListenerList = new RemoteCallbackList&lt;&gt;();

    private Binder mBinder = new IBookManager.Stub() {

        @Override
        public List&lt;Book&gt; getBookList() throws RemoteException {
//            SystemClock.sleep(5000);
            return mBookList;
        }

        @Override
        public void addBook(Book book) throws RemoteException {
            mBookList.add(book);
        }

        @Override
        public void registerListener(IOnNewBookArrivedListener listener) throws RemoteException {
//            if (!mListenerList.contains(listener)) {
//                mListenerList.add(listener);
//            } else {
//                Log.i(TAG, &quot;already exist&quot;);
//            }
//            Log.i(TAG, &quot;registerListener, size = &quot; + mListenerList.size());
            mListenerList.register(listener);
        }

        @Override
        public void unRegisterListener(IOnNewBookArrivedListener listener) throws RemoteException {
//            if (mListenerList.contains(listener)) {
//                mListenerList.remove(listener);
//                Log.i(TAG, &quot;unRegisterListener success&quot;);
//            } else {
//                Log.i(TAG, &quot;unRegisterListener fail&quot;);
//            }
//            Log.i(TAG, &quot;unRegisterListener, size = &quot; + mListenerList.size());
            mListenerList.unregister(listener);
        }
    };

    @Override
    public void onCreate() {
        super.onCreate();
        mBookList.add(new Book(1, &quot;android&quot;));
        mBookList.add(new Book(2, &quot;ios&quot;));
        new Thread(new ServiceWorker()).start();
    }

    @Override
    public IBinder onBind(Intent intent) {
        return mBinder;
    }

    private void onNewBookArrived(Book book) throws RemoteException {
        mBookList.add(book);
//        Log.i(TAG, &quot;onNewBookArrived notify listeners&quot; + mListenerList.size());
        final int N = mListenerList.beginBroadcast();
        for (int i = 0; i &lt; N; i++) {
            IOnNewBookArrivedListener listener = mListenerList.getBroadcastItem(i);
            Log.d(TAG, &quot;onNewBookArrived notify listener&quot; + listener);
            listener.onNewBookArrived(book);
        }
    }

    private class ServiceWorker implements Runnable {

        @Override
        public void run() {
            while (!mIsServiceDestroyed.get()) {
                try {
                    Thread.sleep(5000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                int bookId = mBookList.size() + 1;
                Book newBook = new Book(bookId, &quot;new Book#&quot; + bookId);
                try {
                    onNewBookArrived(newBook);
                } catch (RemoteException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre><p>stub就是binder类</p>
<pre><code>DESCRIPTOR是binder类名

asInterface(android.os.IBinder obj)将服务端binder转换成客户端需要的接口类型，如果是同进程，返回stub，如果跨进程返回
proxy。

asBinder 返回binder

onTransact  public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) 
该方法运行在服务端的线程池中。
transact翻译来是处理 当客户端发出ipc请求，最终由该方法处理，根据code来判断调用哪个方法，从data中取出数据，用reply返回数据。
如果该方法返回false，客户端的请求会失败。

Proxy#getBookList java.util.List&lt;com.zhaokang.zktestproject.Book&gt; getBookList() 创建data，reply，和最后的返回list

 if ((book != null)) {
    _data.writeInt(1);
     book.writeToParcel(_data, 0);
    } else {
         _data.writeInt(0);
    }
    。。。
 }

如果有参数，就放入data，随后调用服务端的onTransact，同时当前线程挂起，等到onTransact返回reply，随后返回reply的数据

注意点

1. 客户端发起请求后线程会挂起，为了防止影响ui线程，建议在子线程中发起请求。（客户端服务端道理相同）
2. onTransact运行在线程池中，所以必须用同步的方式去执行。
</code></pre><hr>
<pre><code>以上是binder的分析

aidl完全是根据binder的封装的

需要注意的点，两端如果某方法耗时，那么调用方需要在子线程中调用

解绑接口时要使用RemoteCallbckList，由该类来维护所有的进程间接口

服务进程意外断掉的情况，在serviceDisconnected中重连服务，或者给binder设置死亡代理DeathRecipient，重连服务，
我感觉前者比较好用

aidl权限验证：在onBind方法中permission验证，在onTransact方法中permission验证，其余还有包名验证等。
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/02/08/android系统分析/android面试分享/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/08/android系统分析/android面试分享/" itemprop="url">android面试分享</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T17:31:32+08:00">2017-02-08</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>首先感谢各个公司给了我面试的机会
</code></pre><p>这段时间在看机会，去了几个面试，把面试到的题目和大家分享一下</p>
<h3 id="某AI公司，面试官非常有耐心，人非常好（好想跟他混。。。）"><a href="#某AI公司，面试官非常有耐心，人非常好（好想跟他混。。。）" class="headerlink" title=" 某AI公司，面试官非常有耐心，人非常好（好想跟他混。。。）"></a><font color="af8888"> 某AI公司，面试官非常有耐心，人非常好（好想跟他混。。。）</font></h3><ol>
<li><p>oauth2.0授权的流程<br> 第三方应用去服务商获取app secret<br> （A）用户打开客户端以后，客户端要求用户给予授权—–跳至服务商页面。</p>
<p> （B）如果用户同意，那么登录，根据用户登录信息和app secret，服务商同意给予客户端授权accessToken。</p>
<p> （C）客户端使用上一步获得的授权accessToken，向资源服务器申请获取资源。</p>
<p> （D）资源服务器确认令牌无误，返回该accessToken的相关数据。</p>
</li>
<li><p><a href="http://clunyes.github.io/2017/03/03/java深入学习/jni浅析/">jni调用</a>.</p>
</li>
<li><p>IPC AIDL的简单实现<br>IPC的各种方式 广播 AIDL Messenger bundle ContentProvider以及socket<br> 要理解aidl要首先理解binder<br> Binder是什么：binder连接前台应用和service的桥梁<br> <a href="http://clunyes.github.io/2017/02/20/android系统分析/AIDL的梳理/">具体aidl怎么实现</a>.</p>
</li>
<li><p>tcp长连接</p>
<p> 采用心跳包来keep-alive<br> keep-alive ：一个连接在２小时内没有任何动作，服务器就向客户机发送一个探测报文，对于客户机：</p>
<pre><code>(1)正常运行，并从服务器可达，TCP响应正常，保活定时器复位(再次获得２小时)
(2)客户机崩溃,关闭或者正在重启，TCP无响应，75秒后超时，服务器稍后发送9个探测报文(共计１０个)，间隔都为75秒。TCP都没有响应，认为客户机已经关闭连接
(3)客户机崩溃并重启完成：服务器将收到一个探测响应，这个响应是一个复位，使得服务器终止这个连接。
(4)客户机正常运行，但是服务器不可达，探测无响应，10次探测后无响应，关闭
</code></pre></li>
<li><p>git命令，git rebase</p>
<p> 因为公司的原因一直在用svn，git都是我个人在玩。所以对于这个问题，还是一脸懵逼，看来还是要多学习。</p>
</li>
<li><p>surfaceView的特性</p>
<p> SurfaceView和View最本质的区别在于，surfaceView是在一个新起的单独线程中，可以重新绘制画面（双缓冲绘制）而View必须在UI的主线程中更新画面。</p>
<p> SurfaceView控件适合内存耗费大、需要频繁刷新的场景，常用于显示游戏、动画、视频等。</p>
<p> 两个重要方法lockCanvas；unlockCanvasAndPost<br> ps什么叫双缓冲：SurfaceView内部会有两块Buffer。调用lockCanvas之后，便可以在bufferA上绘图了。绘完之后，调用unlockCanvasAndPost将bufferA显示再屏幕上，<br> 随后调用lockCanvas，在bufferB上绘图，调用unlockCanvasAndPost将bufferB显示在屏幕上。repeat。</p>
</li>
<li><p>httpdns</p>
<p> httpdns和dns有什么差别<br> httpdns基于http协议<br> httpdns：httpdns使用HTTP协议进行域名解析，代替现有基于udp的dns协议</p>
<p> httpdns优势：防劫持，精准调度，使用场景也是app居多。<br> 下一个问题，怎么用httpdns–阿里云就提供了，但是要按流量收费。</p>
</li>
<li><p>art dalvik的区别</p>
<p> art采用预加载机制，在apk安装时就编译完成，占用空间更多一些。dalvik是动态编译，每次启动都要编译。<br> gc方面，dalvik是同步的，art是部分异步。</p>
</li>
<li><p>事件分发</p>
<p> 三个关键方法：dispatchTouchEvent 是否消耗当前事件<br> onInterceptTouchEvent 是否拦截当前事件<br> onTouchEvent 是否消耗当前事件</p>
<p> 那么这三个方法有啥关系呢</p>
<pre><code>public  boolean dispatchTouchEvent(MotionEvent ev){
    boolean consume = false;
    if(onInterceptTouchEvent(ev)){
        consume = onTouchEvent(ev);
    } else{
        consume = child.dispatchTouchEvent(ev);
    }
    return consume;
}
</code></pre><p> 有些要点需要记住，一个事件序列只能被一个view消耗，</p>
<p> 如果一个事件没有view去处理，那么事件会交给activity处理</p>
<p> ViewGroup的onInterceptTouchEvent默认不调用</p>
<p> view没有onInterceptTouchEvent的方法</p>
<p> 事件传递是由activity–window–view。</p>
</li>
<li><p>layout绘制流程</p>
<p>activity attach方法，创建window建立关联。setContentView</p>
<ol>
<li>如果没有DecorView就创建一个（DecorView包含标题栏和内容栏（经大神验证，标题栏不是状态栏statusBar））</li>
<li>将你的xml，添加到decorView的内容栏contentPatent（R.id.content）</li>
<li>activity回调onContentChanged</li>
<li>最后在onResume中调用makeVisible</li>
</ol>
<p>结构就是DecorView–&gt; ViewGroup（DecorView的内容栏）–&gt; 你的View。</p>
<p>说道这里，必须说一下activity window和view的故事</p>
<pre><code>我们知道view是视图，但是android中view不能单独存在，他必须依附于window之上，window就是负责展示view的。
activity负责控制window的行为，同时window的结果都会回调给activity。
那么view和window是怎么bind起来的呢，通过ViewRootImpl，它就是window和view交互的桥梁。
</code></pre></li>
<li><p>jvm</p>
<p>详见 <a href="http://www.jianshu.com/p/54eb60cfa7bd" target="_blank" rel="noopener">http://www.jianshu.com/p/54eb60cfa7bd</a></p>
</li>
<li><p>内存泄漏</p>
<pre><code>推荐一个很好的文章https://medium.com/freenet-engineering/memory-leaks-in-android-identify-treat-and-avoid-d0b1233acc8#.tny5y511b
说明了几种容易泄漏的点，归总也就是一点activity或者fragment中不要有超过本身生命周期的引用，
否则activity（fragment）无法被回收。

1服务不关，2内部类（网络请求的），3匿名类（也是网络请求） 网络请求，退出务必关闭回收或者取消。
异步线程对控件等用弱引用的方式引用

depth是0的就是泄漏的

文章最后给出了一些建议，关于多线程其实rxjava是非常好的解决方案。
</code></pre></li>
</ol>
<h3 id="某宝公司的电话面试"><a href="#某宝公司的电话面试" class="headerlink" title=" 某宝公司的电话面试"></a><font color="af8888"> 某宝公司的电话面试</font></h3><ol>
<li><p>android生命周期介绍</p>
<p> onCreate<br> onRestart activity从不可见状态切换成可见状态<br> onStart activity已经可见了，但是还在后台<br> onResume activity可见了<br> onPause activity还是可见的，但是不能交互了<br> onStop activity不可见<br> onDestroy</p>
<p> onPause和onStop一般一起触发</p>
</li>
<li><p>activity的四种启动模式</p>
<p> 先介绍两个概念task和taskAffinity，</p>
<pre><code>task：翻译过来就是“任务”，是一组相互有关联的 activity 集合，可以理解为 Activity 是在 task 里面活动的。 
task 存在于一个称为 back stack 的数据结构中，也就是说， task 是以栈的形式去管理 activity 的，
所以也叫可以称为“任务栈”。
taskAffinity：官方文档解释是：&quot;The task that the activity has an affinity for.&quot;，
可以翻译为 activity 相关或者亲和的任务，这个参数标识了一个 Activity 所需要的任务栈的名字。
默认情况下，所有Activity所需的任务栈的名字为应用的包名。 taskAffinity 属性主要和 singleTask 
启动模式或者 allowTaskReparenting 属性配对使用。
</code></pre><p> 正常standard启动模式的activity默认会进入应用报名所属的任务栈中</p>
<p> standard 默认 重新创建</p>
<p> singleTop 栈顶复用，如果栈顶就是这个Activity，那么onNewIntent会被调用</p>
<p> singleTask 栈内复用，在第一次启动这个 Activity 时，系统便会创建一个新的任务，taskAffinity 属性是和 singleTask 模式搭配使用的。<br> 。如果再次调用会弹出目标activity之上的其余activity，回调onNewIntent。还有个特殊参数allowTaskReparenting，如果是true，会转移任务栈。</p>
<p> singleInstance 单独占用一个栈，其余与singleTask一致</p>
</li>
<li><p>远程service的调用<br> localService和remoteService,就是上文的ipc</p>
</li>
<li><p>activity和fragment的区别，fragment的优势<br> fragment对比activity更灵活，fragment轻量级，更加易于管理，易于适配手机和平板。</p>
<p> 生命周期如下图：<br> <img src="/2017/02/08/android系统分析/android面试分享/../../../../images/lifecycle.png" alt=""></p>
</li>
<li><p>最满意的模块和其中使用的设计模式<br> 恩。。</p>
</li>
<li><p>https</p>
<p> http + tls/ssl </p>
</li>
</ol>
<h2 id="单独说一下looper-handler"><a href="#单独说一下looper-handler" class="headerlink" title="单独说一下looper handler"></a>单独说一下looper handler</h2><ul>
<li>每一个线程有一个Looper，looper内部有一个mq</li>
<li>handler有它的特性，handler可以在任意线程发送消息，handler发送的消息都会发送到它关联的looper的mq中<br>（handler的创建会关联一个looper，如果不设置默认是当前线程的looper）</li>
<li>looper会轮询自己的mq来处理消息，交给handler的handleMessage去处理。</li>
</ul>
<p>Looper.loop() looper开始工作</p>
<p><a href="http://clunyes.github.io/2017/02/27/java深入学习/javaThread状态/">深入探讨下线程</a>.</p>
<p><a href="http://clunyes.github.io/2017/02/28/java深入学习/java线程池/">java线程池</a>.</p>
<h3 id="某怡科技面试，android负责人技术还行，感觉是对着android开发艺术探索来面的，不过这本书确实经典"><a href="#某怡科技面试，android负责人技术还行，感觉是对着android开发艺术探索来面的，不过这本书确实经典" class="headerlink" title=" 某怡科技面试，android负责人技术还行，感觉是对着android开发艺术探索来面的，不过这本书确实经典"></a><font color="af8888"> 某怡科技面试，android负责人技术还行，</font>感觉是对着android开发艺术探索来面的，不过这本书确实经典</h3><ol>
<li><p>线程池具体实现有哪几种</p>
<p> FixedThreadPool   线程池固定的线程池<br> CachedThreadPool  线程数上限很大，一有任务就会执行，终止并从缓存中移除那些已有 60 秒钟未被使用的线程。<br> 全部闲置时，线程全部停止，此时线程池不占用内存<br> ScheduledThreadPool  核心线程数固定，非核心线程数目不固定，闲置就会回收。适用于执行定时任务，固定周期的任务。<br> SingleThreadExecutor 单个线程的线程池，是同步的</p>
</li>
<li><p>onMeasure参数意义<br> MeasureSpec 32位的值，高2位是SpecMode，低30位是SpecSize</p>
<p> SpecMode为</p>
<p> UNSPECIFIED 父容器不对view有任何限制</p>
<p> EXACTLY 父容器已经检测出view所需要的具体大小，最终大小就是specSize</p>
<p> AT_MOLT 父容器指定了一个可用的specSize，view的大小不能超过这个specSize</p>
<p> LayoutParam和父容器一起决定MeasureSpec:</p>
<p> layoutParam.match_parent 大小就是窗口大小</p>
<p> layoutParam.wrap_content 大小不定，不能超过窗口大小</p>
<p> 100dp固定大小：为layoutParam指定的大小 </p>
<p> 以上为基础知识</p>
<p> 子元素measureSpec创建和父容器measureSpec和子元素本身的LayoutParam，还有子元素的margin padding有关系</p>
<p> 在写自定义view时，自身大小为具体size,view的specMode都是EXACTLY为childSize，如果是match_content 那么不论是EXACTLY还是AT_MOST都是parentSize，<br> 如果要自身大小为wrap_content，则需要重写onMeasure方法，因为在wrap_content时，view的specMode都是AT_MOST，即会填满父控件，这不是我们想要得效果<br> 如何重写，在onMeasure中判断AT_MOST，将宽高用默认宽高代替。</p>
</li>
<li><p>自定义绘图，旋转</p>
<p> 采用matrix.setRotate的方式，matrix bitmap的关系？</p>
</li>
<li><p>图片3级缓存</p>
<p> 网络缓存, 不优先加载, 速度慢,浪费流量<br> 本地缓存, 次优先加载, 速度快<br> 内存缓存, 优先加载, 速度最快</p>
</li>
<li><p>activity的启动过程</p>
<p> <a href="http://clunyes.github.io/2017/02/24/android系统分析/activity启动和service启动/">详细说明</a></p>
</li>
<li><p>IntentService<br> service是运行在主线程中的，所以service是不能进行耗时操作的<br> 可以执行耗时的任务的service，内部实现是HandlerThread和handler。HandlerThread是一个有Looper的Thread。<br> 正是由于HandlerThread，IntentService可以进行耗时操作，处理完所有逻辑之后，会自动关闭服务！（这么厉害的东西，之前都没用过）</p>
</li>
<li><p>图片缓存回收的算法    </p>
<pre><code>1. 新数据插入到链表头部；

2. 每当缓存命中（即缓存数据被访问），则将数据移到链表头部；

3. 当链表满的时候，将链表尾部的数据丢弃。
</code></pre><p> LRU，最近最少使用算法<br> LruCache是由LinkedHashMap来实现的，同步实现（因为是不同线程调用的）。</p>
<p> 图片缓存的是drawable。</p>
</li>
<li><p>并发场景，争夺资源</p>
<p> <a href="http://clunyes.github.io/2017/03/01/java深入学习/java线程安全/">synchronized</a></p>
</li>
</ol>
<h3 id="扩展问题"><a href="#扩展问题" class="headerlink" title=" 扩展问题"></a><font color="af8888"> 扩展问题</font></h3><ol>
<li><p>数据结构有哪些</p>
<pre><code>1. 逻辑结构分为:集合结构；线性结构；树形结构；图形结构
2. 物理（计算机存储）结构：顺序存储结构，数组；链式存储结构，链表
</code></pre><p>数组 String[] 包括列表</p>
<p>链表 LinkedList</p>
<p>栈 activity task 就是一个栈，先进后出</p>
<p>队列  基本上，一个队列就是一个先入先出（FIFO）的数据结构</p>
<p>树</p>
<p>图</p>
</li>
<li><p>java  copyOnWrite思路，<br> <a href="http://clunyes.github.io/2017/02/28/java深入学习/java集合理解/">各种集合类的实现</a></p>
</li>
<li><p><a href="http://clunyes.github.io/2017/02/22/android热修复原理/">android 热修复原理</a></p>
</li>
<li><p>android保活</p>
<ol>
<li><p>不同app利用广播相互唤醒</p>
</li>
<li><p>开启前台服务，不显示notification–这种方式还是会被杀死的</p>
</li>
<li><p>如果够牛逼，进入系统的白名单</p>
</li>
<li><p>一个像素的activity</p>
</li>
<li><p>JobScheduler（有待验证怎么使用的）</p>
<p>进程回收机制：系统内存不足的情况下android会开始杀进程，所使用的机制就是Low Memory Killer。</p>
<p>oom_adj值越低越不会被杀死</p>
<p>app退到后台时，其所有的进程优先级都会降低。但是UI进程是降低最为明显的，因为它占用的内存资源最多，<br>系统内存不足的时候肯定优先杀这些占用内存高的进程来腾出资源。所以，为了尽量避免后台UI进程被杀，<br>需要尽可能的释放一些不用的资源，尤其是图片、音视频之类的。</p>
<p>目前来讲，app进入到后台后，如果资源紧张肯定会被kill。</p>
</li>
</ol>
</li>
<li><p>生产者消费者模式</p>
</li>
<li><p>android优化</p>
<ol>
<li>内存泄漏方面</li>
<li>ui视图绘制慢导致卡顿</li>
<li>严苛模式</li>
<li>启动优化–不必要在application中初始化的代码，放到ui初始化完成后。</li>
</ol>
</li>
<li><p>socket的基本流程<br> <img src="/2017/02/08/android系统分析/android面试分享/../../../../images/socket主流程.png" alt=""></p>
</li>
</ol>
<h3 id="唯X科技面试，有一句说一句，面试官是架构师技术非常不错，人很谦和，"><a href="#唯X科技面试，有一句说一句，面试官是架构师技术非常不错，人很谦和，" class="headerlink" title=" 唯X科技面试，有一句说一句，面试官是架构师技术非常不错，人很谦和，"></a><font color="af8888"> 唯X科技面试，</font>有一句说一句，面试官是架构师技术非常不错，人很谦和，</h3><p>面试官表示我还是个中级。哎，慢慢面吧。</p>
<ol>
<li><p>android ndk 开发</p>
</li>
<li><p>对于android framework的理解</p>
</li>
<li><p>源码要自己敲一遍，理解更加深刻</p>
</li>
<li><p>app启动时间优化 adb shell am start -W cn.mynewclouedeu/cn.mynewclouedeu.ui.activity.ActivityGuide<br>查出启动时间，application初始化使用线程操作。</p>
</li>
<li><p>java与模式，理解低耦合高内聚</p>
</li>
<li><p>动态注册广播比静态注册广播先收到广播</p>
</li>
<li><p>图片压缩，高清晰度，仿微信</p>
</li>
<li><p>aop 面向切面编程</p>
</li>
<li><p>增量更新</p>
</li>
<li><p>注解的理解</p>
</li>
</ol>
<p>这道问题非常考验功力，慢慢修炼。</p>
<h3 id="X联动力面试，面试流程比较奇葩的，提了个需求问行不行"><a href="#X联动力面试，面试流程比较奇葩的，提了个需求问行不行" class="headerlink" title=" X联动力面试，面试流程比较奇葩的，提了个需求问行不行"></a><font color="af8888"> X联动力面试，</font>面试流程比较奇葩的，提了个需求问行不行</h3><ol>
<li><p>需要要和硬件打交道（jni hal你都得会）</p>
</li>
<li><p>自己公司有自己的视频流协议（视频流的协议，通信协议你得熟悉）</p>
</li>
<li><p>要做android app开发（app相关你也得过关）</p>
</li>
</ol>
<p>要求还是挺高的，如果去做的话对于我这样的工程师估计够呛。</p>
<p>顺利的面试我就不发了，目标还是定在大厂，不是大厂也得是大牛领导，实在是不想再去坑爹公司。   </p>
<p>又发现了一个大牛的面经： <a href="http://www.jianshu.com/p/dea7c3555b3c" target="_blank" rel="noopener">http://www.jianshu.com/p/dea7c3555b3c</a>    ，不得不说基础很重要。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/01/22/rxjava/rxjava转换操作符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/22/rxjava/rxjava转换操作符/" itemprop="url">rxjava转换操作符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-22T14:42:24+08:00">2017-01-22</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="转换操作符"><a href="#转换操作符" class="headerlink" title="转换操作符"></a>转换操作符</h2><h3 id="buffer操作符"><a href="#buffer操作符" class="headerlink" title="buffer操作符"></a>buffer操作符</h3><p>buffer操作符周期性地收集源Observable产生的结果到列表中，并把这个列表提交给订阅者，<br>订阅者处理后，清空buffer列表，同时接收下一次收集的结果并提交给订阅者，周而复始。</p>
<h3 id="flatMap操作符"><a href="#flatMap操作符" class="headerlink" title="flatMap操作符"></a>flatMap操作符</h3><p>flatMap操作符是把Observable产生的结果转换成多个Observable，然后把这多个Observable“扁平化”成一个Observable，并依次提交产生的结果给订阅者。</p>
<h3 id="concatMap操作符"><a href="#concatMap操作符" class="headerlink" title="concatMap操作符"></a>concatMap操作符</h3><p>cancatMap操作符与flatMap操作符类似，都是把Observable产生的结果转换成多个Observable，然后把这多个Observable“扁平化”成一个Observable，并依次提交产生的结果给订阅者。<br>cancat是有顺序的。</p>
<p>### </p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/01/21/rxjava/rxjava创建操作符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/21/rxjava/rxjava创建操作符/" itemprop="url">rxjava操作符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-21T09:42:17+08:00">2017-01-21</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://blog.csdn.net/job_hesc/article/details/45798307" target="_blank" rel="noopener">操作符这里讲解的很仔细</a></p>
<p>RxJava的强大之处，在于它提供了非常丰富且功能强悍的操作符，通过使用和组合这些操作符，你几乎能完成所有你想要完成的任务</p>
<ul>
<li>(Observable的创建操作符)，比如：Observable.create()、Observable.just()、Observable.from()等等；</li>
<li>(Observable的转换操作符)，比如：observable.map()、observable.flatMap()、observable.buffer()等等；</li>
<li>(Observable的过滤操作符)，比如：observable.filter()、observable.sample()、observable.take()等等；</li>
<li>(Observable的组合操作符)，比如：observable.join()、observable.merge()、observable.combineLatest()等等；</li>
<li>(Observable的错误处理操作符)，比如:observable.onErrorResumeNext()、observable.retry()等等；</li>
<li>(Observable的功能性操作符)，比如：observable.subscribeOn()、observable.observeOn()、observable.delay()等等；</li>
<li>(Observable的条件操作符)，比如：observable.amb()、observable.contains()、observable.skipUntil()等等；</li>
<li>(Observable数学运算及聚合操作符)，比如：observable.count()、observable.reduce()、observable.concat()等等；</li>
<li>其他如observable.toList()、observable.connect()、observable.publish()等等；</li>
</ul>
<h2 id="创建操作符"><a href="#创建操作符" class="headerlink" title="创建操作符"></a>创建操作符</h2><ul>
<li>常用的创建操作符还是： create from timer interval（像range just defer真是没用过）<h3 id="create操作符"><a href="#create操作符" class="headerlink" title="create操作符"></a>create操作符</h3></li>
</ul>
<p>create操作符是所有创建型操作符的“根”，也就是说其他创建型操作符最后都是通过create操作符来创建Observable的</p>
<h3 id="from操作符"><a href="#from操作符" class="headerlink" title="from操作符"></a>from操作符</h3><p>from操作符是把其他类型的对象和数据类型转化成Observable</p>
<h3 id="just操作符"><a href="#just操作符" class="headerlink" title="just操作符"></a>just操作符</h3><p>just操作符也是把其他类型的对象和数据类型转化成Observable，它和from操作符很像，只是方法的参数有所差别</p>
<h3 id="defer操作符"><a href="#defer操作符" class="headerlink" title="defer操作符"></a>defer操作符</h3><p>defer操作符是直到有订阅者订阅时，才通过Observable的工厂方法创建Observable并执行，defer操作符能够保证Observable的状态是最新的</p>
<h3 id="timer操作符"><a href="#timer操作符" class="headerlink" title="timer操作符"></a>timer操作符</h3><p>timer操作符是创建一串连续的数字，产生这些数字的时间间隔是一定的</p>
<h3 id="interval操作符"><a href="#interval操作符" class="headerlink" title="interval操作符"></a>interval操作符</h3><p>interval操作符是每隔一段时间就产生一个数字，这些数字从0开始，一次递增1直至无穷大；interval操作符的实现效果跟上面的timer操作符的第二种情形一样</p>
<h3 id="range操作符"><a href="#range操作符" class="headerlink" title="range操作符"></a>range操作符</h3><p>range操作符是创建一组在从n开始，个数为m的连续数字，比如range(3,10)，就是创建3、4、5…12的一组数字</p>
<h3 id="repeat-repeatWhen操作符"><a href="#repeat-repeatWhen操作符" class="headerlink" title="repeat/repeatWhen操作符"></a>repeat/repeatWhen操作符</h3><p>repeat操作符是对某一个Observable，重复产生多次结果</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2017/01/09/life/搞笑记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/09/life/搞笑记录/" itemprop="url">搞笑记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-09T19:08:26+08:00">2017-01-09</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>“小姐，请问一下有没有卖半岛铁盒”<br>“有啊，你从前面右转出门沿着马路直走过三个红绿灯往左拐150米左右有一个车站上38路公交车做13个站下车打一个摩<br>的到天伦不孕不育医院南门门口报刊亭斜对面有一个小巷子进去第三家成人用品店对面进去第二排架子上就有了。”<br>“WQNMLGB!”</p>
</li>
<li><p>作者：那棵树生气了<br>链接：<a href="https://www.zhihu.com/question/40019322/answer/87104083" target="_blank" rel="noopener">https://www.zhihu.com/question/40019322/answer/87104083</a><br>来源：知乎<br>著作权归作者所有，转载请联系作者获得授权。</p>
<pre><code>春江潮水连海平，敌法主B运魔瓶

初生牛犊不怕虎，火枪裸鞋一保五

滟滟随波千万里，幻刺草鞋裸虚灵

我自横刀向天笑，给我这波我辉耀

春眠不觉晓，白牛到处跑

醉里挑灯看剑，还是火枪最贱

粉身碎骨浑不怕，补刀大树保敌法

秦时明月汉时关，混沌开大打肉山

白发三千丈，队友都在浪

停车坐爱枫林晚，自己大哥没人管

虎落平阳被犬欺，骷髅倒下没蓝起

少年不识愁滋味，潮汐跳大娜迦睡

天生我才必有用，快快扶我还能送

问君能有几多愁，五只地卜遇老牛

巴山楚水凄凉地，敌法女王都有B

怀旧空吟闻笛赋，B到高台被卡住。

四塞忽闻狼烟起，潮汐跳刀大空气

万水千山总是情，给颗吃树行不行

春色满园关不住，想玩辅助选老鹿

黄沙百战穿金甲，团战领导来电话

我自横刀向天笑，吓得小牛大完跳

别有幽愁暗恨生，三级大招忘了升

冰女不知亡国恨，假腿挑战先锋盾

两岸猿声啼不住，猴子还在憋遗物

昨夜西风凋碧树，一选老鹿当辅助

问君能有几多愁，恰似残血TP不能留

问君欲何志，下马问前程，潮汐猛犸又空大，相知能几人！

忽如一夜春风来，暗牧薄葬一口奶

山重水覆疑无路，转身河道遇极速

捐躯赴国难，舍身踩炸弹

秋水共长天一色，沟壑与刚毛齐飞

醉里挑灯看剑，还是火枪最贱

邻家火女初长成，A帐大你疼不疼？

曾经沧海难为水，买活飞鞋继续怼

天若有情天亦老，养我吃树好不好

锦瑟无端五十弦，刷新A杖二十连

古道西风瘦马，屠夫钩死光法

莫愁前路无知己，白牛全图追着你

路见不平一声吼，一转两转全带走

人生自古谁无死，团战影魔必须死

老夫聊发少年狂，左黑黄，右勋章，冰眼法球，逃跑用微光。

洛阳亲友如相问，别说狼人在偷盾。
</code></pre></li>
<li><p>股灾之前有哪些信号预示股灾的来临？</p>
</li>
</ol>
<pre><code>高考结束学生背着书包拿压岁钱去开户
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/12/rxjava/rxjava学习-基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/12/rxjava/rxjava学习-基础/" itemprop="url">rxjava学习-基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-12T15:45:40+08:00">2016-12-12</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##Rxjava 使用笔记<br>最近使用新的框架进行开发，其中最为困惑的就是rxjava，确实入门比较难。<br>经过反复的更改，最终改名rxjava学习-基础，确实需要仔细理解。</p>
<p>###1.20<br>今天终于把2.0项目上线了，那么就系统学习下rxjava，<a href="https://github.com/yuxingxin/RxJava-Essentials-CN" target="_blank" rel="noopener">学习资料在这里</a><br>我直接贴过来了，下面的介绍说的很明白</p>
<ul>
<li>响应式编程是一种基于异步数据流概念的编程模式。数据流就像一条河：它可以被观测，被过滤，被操作，或者为新的消费者与另外一条流合并为一条新的流。</li>
<li>响应式编程的一个关键概念是事件。事件可以被等待，可以触发过程，也可以触发其它事件。事件是唯一的以合适的方式将我们的现实世界映射到我们的软件中：<br>如果屋里太热了我们就打开一扇窗户。同样的，当我们更改电子表（变化的传播）中的一些数值时，我们需要更新整个表格或者我们的机器人碰到墙时会转弯（响应事件）。</li>
<li>今天，响应式编程最通用的一个场景是UI：我们的移动App必须做出对网络调用、用户触摸输入和系统弹框的响应。在这个世界上，软件之所以是事件驱动并响应的是因为现实生活也是如此。</li>
</ul>
<p>rx特点</p>
<ol>
<li>一致性</li>
<li>可扩展：这个在编码过程中特别有感觉。只要思路够清晰，一句话就能把业务处理完，不管同步异步都没问题。</li>
<li>陈述式</li>
<li>可组合</li>
<li>可转化</li>
</ol>
<p>rx的两个最核心的接口<br>IObserver 和 IObservable，所有的链式都衍生自这两个接口。代码如下：</p>
<pre><code class="android">//Defines a provider for push-based notification.
public interface IObservable&lt;out T&gt; 
{
//Notifies the provider that an observer is to receive notifications.
IDisposable Subscribe(IObserver&lt;T&gt; observer);   
}
</code></pre>
<pre><code class="android">public interface IObserver&lt;in T&gt;
{
//Provides the observer with new data.
void OnNext(T value);
//Notifies the observer that the provider has experienced an error condition.
void OnError(Exception error);
//Notifies the observer that the provider has finished sending push-based notifications.
void OnCompleted();
}
</code></pre>
<p>四种角色</p>
<ul>
<li>Observable</li>
<li>Observer</li>
<li>Subscriber</li>
<li>Subjects</li>
</ul>
<p>Observables和Subjects是两个compose的实体，Observers和Subscribers是两个consume实体。</p>
<p>subject是一个神奇的对象，它可以是一个Observable同时也可以是一个Observer：它作为连接这两个世界的一座桥梁。一个Subject可以订阅一个Observable，<br>就像一个观察者，并且它可以执行新的数据，或者传递它接受到的数据，就像一个Observable。很明显，作为一个Observable，观察者们或者其它Subject都可以订阅它。<br>一旦Subject订阅了Observable，它将会触发Observable开始执行。如果原始的Observable是“冷”的，这将会对订阅一个“热”的Observable变量产生影响。</p>
<p>RxJava提供四种不同的Subject：</p>
<ul>
<li>PublishSubject</li>
<li>BehaviorSubject</li>
<li>ReplaySubject</li>
<li>AsyncSubject</li>
</ul>
<font color="af8888">说实话subject我在开发中没怎么注意到，需要到实战中再理解</font>

<p>BehaviorSubject:<br>简单的说，BehaviorSubject会首先向他的订阅者发送截至订阅前最新的一个数据对象（或初始值）,然后正常发送订阅后的数据流。</p>
<p>ReplaySubject:<br>ReplaySubject会缓存它所订阅的所有数据,向任意一个订阅它的观察者重发。</p>
<p>AsyncSubject<br>当Observable完成时AsyncSubject只会发布最后一个数据给已经订阅的每一个观察者。</p>
<p>(这些subject都带有比较特殊的能力，在特定的业务场景下会有优势)</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/09/android tip/android-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/09/android tip/android-tips/" itemprop="url">android tips</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-09T15:55:17+08:00">2016-12-09</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/08/java深入学习/vector详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/08/java深入学习/vector详解/" itemprop="url">vector详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-08T17:01:29+08:00">2016-12-08</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>vector就是矢量图片，5.0开始</p>
<ul>
<li>使用Vector Asset Studio<br>右键res，点击new 选择Vector Assert，自带一大批material的icon。而且生成出来的是xml文件，但是文件体积非常小！！！<br>apk size的福音。同时，还支持本地的psd和svg文件。svg是一种语言，可以做动画，非常适合做一些炫酷的小动画。比如下拉loading<br>，app默认loading啥的。</li>
<li>*svg是啥：可缩放矢量图形是基于可扩展标记语言（标准通用标记语言的子集），用于描述二维矢量图形的一种图形格式。</li>
<li>低于android21就是5.0，支持部分属性，具体请查看文档，这里不细说了；</li>
<li>5.0以上，全部支持</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/08/android tip/android-studio使用技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/08/android tip/android-studio使用技巧/" itemprop="url">android studio使用技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-08T14:50:11+08:00">2016-12-08</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="android-studio的使用技巧"><a href="#android-studio的使用技巧" class="headerlink" title="android studio的使用技巧"></a>android studio的使用技巧</h3><p>我也算android studio用了一年了，分享一些小技巧</p>
<ul>
<li>import samples 失败 在设置中HTTP Proxy-&gt;Auto-detect proxy settings，就ok</li>
<li>在文件树中定位当前文件，按那个准心按钮</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/07/material design/material-design字体排版/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/07/material design/material-design字体排版/" itemprop="url">material design字体排版</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-07T14:54:50+08:00">2016-12-07</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>首先字体分English and English-like、Dense和Tall，就拿我们的app来说English and English-like是英语的书写体，<br>Dense是中文的书写体</li>
<li>还有一个要点 font weight 有个很完美的翻译，字重！noto字重有Thin, Light, DemiLight, Regular, Medium, Bold, and Black<br>roboto字重有Thin, Light, Regular, Medium, Bold, and Black.由于roboto不支持中文，因此中文app开发者应该使用<br>noto作为默认字体。<a href="https://www.google.com/get/noto/" target="_blank" rel="noopener">noto下载地址</a> </li>
<li>English and English-like scripts <img src="/2016/12/07/material design/material-design字体排版/../../../../images/roboto.png" alt=""></li>
<li>Dense scripts <img src="/2016/12/07/material design/material-design字体排版/../../../../images/noto.png" alt=""></li>
<li>行间距问题（以前我一直觉得行间距改不了），其实能改android:lineSpacingExtra用于设置行间距具体值<br>android:lineSpacingMultiplier 用于设置默认行间距的倍数</li>
<li>这里要额外说明一点，有些字体写了87% black，这里的百分比就是透明度#ffffffff，前两位透明度，<br>后6位rgb这个大家都明白吧，这里可能要换算下<br>100% — FF<br>95% — F2<br>90% — E6<br>85% — D9<br>80% — CC<br>75% — BF<br>70% — B3<br>65% — A6<br>60% — 99<br>55% — 8C<br>50% — 80<br>45% — 73<br>40% — 66<br>35% — 59<br>30% — 4D<br>25% — 40<br>20% — 33<br>15% — 26<br>10% — 1A<br>5% — 0D<br>0% — 00<br>给出一张表格，solid指的是100%。</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/07/屏幕密度思考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/07/屏幕密度思考/" itemprop="url">屏幕密度思考</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-07T09:37:08+08:00">2016-12-07</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="像素密度-以及-不同屏幕"><a href="#像素密度-以及-不同屏幕" class="headerlink" title="像素密度 以及 不同屏幕"></a>像素密度 以及 不同屏幕</h2><p>这是android开发和设计都很关心的问题。</p>
<p>我们就从md的文档中学习一下。</p>
<ul>
<li>Pixel density（像素密度）：指的是每inch上的像素数</li>
<li>Screen resolution（屏幕分辨率）：屏幕上总共像素数</li>
<li>屏幕密度dpi也就是像素密度 为简便起见，Android 将所有屏幕密度分组为六种通用密度：<br>低、中、高、超高、超超高和超超超高。</li>
<li><p>Density-independent pixels（密度无关像素 ） (dp)：A dp is equal to one physical pixel on a screen with a density of 160.<br>1dp在像素密度 ，公式px = dp * (dpi / 160)<br>为简化您为多种屏幕设计用户界面的方式，Android 将实际屏幕尺寸和密度的范围 分为：<br>4种通用尺寸：小、正常、 大 和超大<br>6种通用密度</p>
<ol>
<li>ldpi（低）~120dpi</li>
<li>mdpi（中）~160dpi</li>
<li>hdpi（高）~240dpi</li>
<li>xhdpi（超高）~320dpi</li>
<li>xxhdpi（超超高）~480dpi</li>
<li>xxxhdpi（超超超高）~640dpi<br>所以在160dpi的屏幕上，1px = 1dp，同理在320dpi的屏幕上 2px = 1dp</li>
</ol>
</li>
<li><p>那么问题出现了，所谓的6种通用密度对应的是那些屏幕分辨率呢？</p>
</li>
<li><p>通用的尺寸和密度按照基线配置（即正常尺寸和 mdpi（中）密度）排列，所以依次超大对应超高…<br>但是，实际生活中每种通用的尺寸和密度都涵盖一个实际屏幕尺寸和密度范围。<br>例如， 两部都报告正常屏幕尺寸的设备在手动测量时，实际屏幕尺寸和 高宽比可能略有不同。<br>类似地，对于两台报告 hdpi 屏幕密度的设备，其实际像素密度可能略有不同，实际开发中，我们可以<br>忽略掉这种差异。 </p>
</li>
<li><p>在为不同的屏幕尺寸设计 UI 时，您会发现每种设计都需要 最小空间。<br>因此，上述每种通用的屏幕尺寸都关联了系统定义的最低 分辨率。<br>这些最小尺寸以“dp”单位表示 — 在定义布局时应使用相同的单位 — 这样系统无需担心屏幕密度的变化。</p>
</li>
</ul>
<p>超大屏幕至少为 960dp x 720dp  设计应采用1280 x 720<br>大屏幕至少为 640dp x 480dp    设计应采用800 x 480<br>正常屏幕至少为 470dp x 320dp  设计应采用480 x 320<br>小屏幕至少为 426dp x 320dp    设计应采用320 x 240</p>
<p>设计师资源也很有限，针对目前市场上，xxhdpi手机越来越多，而ldpi和mpi基本已经退出市场，兼顾各种dpi的考虑，应该吧320dpi作为基准<br>（1年之后，基准可能就要调到xhdpi，换机速度太快，设计的时候去统计网站看看目前市场上的分辨率分布情况）。</p>
<ul>
<li>xhdpi向下向上都可以兼容（比例不会变的很离谱，你想想，如果你在mdpi上设计的很完美的图，<br>到xxhdpi可能已经小的不像话了，只有原来的1/3了，同理现在不能xxhdpi作为标准）</li>
<li><p>有个问题要请设计师注意，160:240:320:480:640 = 2:3:4:6:8，中间有个3:4，所以以xhdpi为基准时，设计的像素值<br>最好为4的倍数，否则在hdpi上容易出现，小数点的像素，容易造成ui的变形，实在不能做到，那也只能开发这边4舍5入了。</p>
</li>
<li><p>*设计开发无需为屏幕尺寸和 密度的每个组合提供备用资源。系统提供强大的兼容性功能，<br>可处理在任何设备屏幕上渲染应用的大多数工作，前提是您已经使用 可以适当调整大小的技术实现UI。</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/02/android tip/android-代号对应表/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/02/android tip/android-代号对应表/" itemprop="url">android 代号对应表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-02T15:01:01+08:00">2016-12-02</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table>
<thead>
<tr>
<th>平台版本</th>
<th style="text-align:center">API 级别</th>
<th style="text-align:right">VERSION_CODE</th>
<th style="text-align:right">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Android 7.0</td>
<td style="text-align:center">24</td>
<td style="text-align:right">N</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 6.0</td>
<td style="text-align:center">23</td>
<td style="text-align:right">M</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 5.1</td>
<td style="text-align:center">22</td>
<td style="text-align:right">LOLLIPOP_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 5.0</td>
<td style="text-align:center">21</td>
<td style="text-align:right">LOLLIPOP</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.4W</td>
<td style="text-align:center">20</td>
<td style="text-align:right">KITKAT_WATCH</td>
<td style="text-align:right">仅限 KitKat for Wearables</td>
</tr>
<tr>
<td>Android 4.4</td>
<td style="text-align:center">19</td>
<td style="text-align:right">KITKAT</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.3</td>
<td style="text-align:center">18</td>
<td style="text-align:right">JELLY_BEAN_MR2</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.2、4.2.2</td>
<td style="text-align:center">17</td>
<td style="text-align:right">JELLY_BEAN_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.1、4.1.1</td>
<td style="text-align:center">16</td>
<td style="text-align:right">JELLY_BEAN</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.0.3、4.0.4</td>
<td style="text-align:center">15</td>
<td style="text-align:right">ICE_CREAM_SANDWICH_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 4.0、4.0.1、4.0.2</td>
<td style="text-align:center">14</td>
<td style="text-align:right">ICE_CREAM_SANDWICH</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 3.2</td>
<td style="text-align:center">13</td>
<td style="text-align:right">HONEYCOMB_MR2</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 3.1.x</td>
<td style="text-align:center">12</td>
<td style="text-align:right">HONEYCOMB_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 3.0.x</td>
<td style="text-align:center">11</td>
<td style="text-align:right">HONEYCOMB</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.3.4、2.3.3</td>
<td style="text-align:center">10</td>
<td style="text-align:right">GINGERBREAD_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.3、2.3.1、2.3.2</td>
<td style="text-align:center">9</td>
<td style="text-align:right">GINGERBREAD</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.2.x</td>
<td style="text-align:center">8</td>
<td style="text-align:right">FROYO</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.1.x</td>
<td style="text-align:center">7</td>
<td style="text-align:right">ECLAIR_MR1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.0.1</td>
<td style="text-align:center">6</td>
<td style="text-align:right">ECLAIR_0_1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 2.0</td>
<td style="text-align:center">5</td>
<td style="text-align:right">ECLAIR</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 1.6</td>
<td style="text-align:center">4</td>
<td style="text-align:right">DONUT</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 1.5</td>
<td style="text-align:center">3</td>
<td style="text-align:right">CUPCAKE</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 1.1</td>
<td style="text-align:center">2</td>
<td style="text-align:right">BASE_1_1</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td>Android 1.0</td>
<td style="text-align:center">1</td>
<td style="text-align:right">BASE</td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/01/material design/material-design-writing-产品都应该看/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/01/material design/material-design-writing-产品都应该看/" itemprop="url">material design writing 产品都应该看</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-01T16:12:35+08:00">2016-12-01</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/12/01/material design/material-design-目录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/01/material design/material-design-目录/" itemprop="url">material-design-目录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-01T14:31:41+08:00">2016-12-01</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="https-material-google-com-地址"><a href="#https-material-google-com-地址" class="headerlink" title="https://material.google.com/地址"></a><a href="https://material.google.com/地址" target="_blank" rel="noopener">https://material.google.com/地址</a></h3><h3 id="md作为android开发的规范，对于开发、产品、设计都很有意义，我会持续完善这份文档。"><a href="#md作为android开发的规范，对于开发、产品、设计都很有意义，我会持续完善这份文档。" class="headerlink" title="md作为android开发的规范，对于开发、产品、设计都很有意义，我会持续完善这份文档。"></a>md作为android开发的规范，对于开发、产品、设计都很有意义，我会持续完善这份文档。</h3><h2 id="material-design"><a href="#material-design" class="headerlink" title="material design"></a>material design</h2><ol>
<li>Introduction</li>
<li>Environment</li>
<li>Material properties 这章说明了md就是各种元素都在自己的层面上，我的理解就是z轴值不一样，这样界面看上去<br>就很有层次感</li>
<li>Elevation and shadows（高度，阴影）(前三章都在介绍md是啥，这章给出了<font color="af8888">elevation的标准</font>，非常重要)</li>
<li>What’s new md是不断更新的，md就像一个协议，不断更新所以是有生命力的（牛逼）</li>
</ol>
<h2 id="Motion（手势，动作）"><a href="#Motion（手势，动作）" class="headerlink" title="Motion（手势，动作）"></a>Motion（手势，动作）</h2><ol>
<li>Material motion 核心动画要点1.要快，2.要简洁，3.同一个app相同意义的动画要一致</li>
<li>Duration and easing 动画自然，曲线动画都是先x轴快，过了中点就是y轴快，<br>还有就是要快，不要放慢动画</li>
<li>Movement 竖直动画，不要曲线，暗合简洁的概念<ol>
<li>Transforming material 变形动画，这章内容涉及的就很细了，关键的一点就是，1做动画的按钮要是圆<br>形的，2还有就是矩形扩大缩小的动画，在宽度和高度的变化的时候有先后顺序</li>
<li>Choreography（有道一下：是编舞）讲了一些切换动画的注意点，说实话没太看懂，总而言之，<br>做动画不要搞非主流，快而简洁的动画是关键 </li>
<li>Creative customization（创造性定制）部分系统按钮，有两个状态</li>
</ol>
</li>
</ol>
<h2 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h2><ol>
<li>Color 这里有几个颜色要注意：<ol>
<li>Primary color 主色，会大量使用</li>
<li>Secondary color 用于相关的操作和信息，会比主色深一些或者浅一些，主要看主色是什么色调的</li>
<li>Accent color 用于交互元素或者float action button（fab），接下来就是一些配色，<br>接下来看了个light theme和dark theme</li>
</ol>
</li>
<li>Icons 图标的制作这个<font color="af8888">绝壁是给ui看的，希望各位ui能看一下</font>，总结就是不要非主流，要有立体感，<br>遵循集合原理。（参考<a href="https://material.google.com/style/icons.html#icons-system-icons）" target="_blank" rel="noopener">https://material.google.com/style/icons.html#icons-system-icons）</a></li>
<li>Imagery 意象（吐槽下google这几个页面太大了，翻墙很吃力)，适合所有人看的一章，图片该怎样，不该怎么样，有些挺有道理的</li>
<li>Typography（排版）  <a href="http://clunyes.github.io/2016/12/07/material-design字体排版/">文字排版单开了一篇文章</a></li>
<li>Writing 这个很适合我们仔细研读，由于我要开发app的2.0版本，<br><a href="http://clunyes.github.io/2016/12/1/material-design-writing-产品都应该看/">这里我先欠着我会记得的</a>，<br>我也会看的，因为我是半个移动端的产品.</li>
</ol>
<h2 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h2><ol>
<li>Principles 提出了seam和step的概念，以及fab放在seam和step上面</li>
<li>Units and measurements <a href="http://clunyes.github.io/2016/12/07/屏幕密度思考/">屏幕密度，设计开发注意事项，我在这里详细说明了</a></li>
<li>Metrics &amp; keylines（度量，基准线）<font color="af8888">一些边距，包括常用的title listview等等，还有桌面和平板的规范也有，不过我现在只做手机的<br>，比例基准（这个没怎么看太懂），可点击空间的尺寸 touch targets should be at least 48 x 48 dp，Avatar: 40dp Icon: 24dp。<br>Touch target on both: 48dp，Touch target height: 48dp，Button height: 36dp这些是硬性规定。规范很重要。</font></li>
<li>Structure 结构 必有的appbar+fab 不必有的bottombar，Side nav menus，其中appbar就是特殊的toolbar，appbar可以展开，<br>高度就是56dp+内容高度。statusbar，沉浸式允许隐藏statusbar，点击或者滑动，statusbar显示</li>
<li>Responsive UI 这章没看懂。我的理解是屏幕变换的时候，ui的排列，具体到手机是横竖屏转换</li>
<li>Split screen 分屏，没看懂</li>
</ol>
<h2 id="Components-非常关键的一章，涉及了几乎所有的控件的定义以及规范，开发人员应该严格遵循"><a href="#Components-非常关键的一章，涉及了几乎所有的控件的定义以及规范，开发人员应该严格遵循" class="headerlink" title="Components 非常关键的一章，涉及了几乎所有的控件的定义以及规范，开发人员应该严格遵循"></a>Components 非常关键的一章，涉及了几乎所有的控件的定义以及规范，开发人员应该严格遵循</h2><ol>
<li><p>Bottom navigation </p>
<ol>
<li>对于底部导航数目，item尺寸，颜色都做了说明。</li>
<li>Behavior这个很关键，Navigation through the bottom navigation bar should reset the task state.<br>reset就是说，点击item切换之后，列表返回初始状态，不管之前什么状态，点击当前item回到列表最上方。</li>
<li>The bottom navigation bar can appear and disappear dynamically upon scrolling:Scrolling downward hides the bottom navigation bar<br>Scrolling upward reveals it，<font color="af8888">上滑bottombar消失，下滑出现</font>。</li>
<li>结尾处交代了阴影的高度</li>
</ol>
</li>
<li><p>Bottom sheets(底部页面)</p>
<ol>
<li>分为persistent底部页面，modal底部页面</li>
<li>modal用于分享，persistent一直都是有的，和app内容有比较大的关联度</li>
<li>最后介绍了具体尺寸规范</li>
</ol>
</li>
<li><p>Buttons</p>
<ol>
<li>Flat buttons 纯文字的button，文字要大些指的是英文，点击会有墨水效果，但是不会lift，lift应该是elevation变化的效果。</li>
<li>Raised buttons 矩形按钮，点击会有墨水效果，还有lift效果</li>
<li>fab 圆形的按钮，其余和raised button一样 </li>
<li>这里对button的size有着很明确的说明，以后我会整理一片文章，把size有关的信息单独列出来 </li>
<li>最后介绍了，dropdown button也就是dropdown list，还有togglebutton</li>
</ol>
</li>
<li><p>Buttons: Floating Action Button</p>
<ol>
<li>fab定义是页面中最常用的按钮有两种size，默认size 56*56，mini size，用于连接页面</li>
<li>一个页面最多一个fab</li>
<li>fab用于积极的操作，创建，不要用于删除等其他操作 </li>
<li>后面介绍了fab的使用规范，哪些ok哪些不对</li>
</ol>
</li>
<li><p>Cards</p>
<ol>
<li>cards统一有2dp的corner</li>
<li>item如果没有很多操作的话，不要用cards</li>
<li>cards 的布局可以很多样</li>
<li>For developers android cards/Polymer card</li>
<li>cards支持的操作 swipe，pick up and move（重新排序）</li>
<li>cards内部不要使用滑动，要显示完全或者使用折叠</li>
<li>各种cards的尺寸，使用cards进行开发，完全可以参照这个文档</li>
<li>两种分割线的区别，区块分割线（到头），内容分割线（使用padding的）</li>
</ol>
</li>
<li><p>Chips small block 小块 这个控件用的比较少的，在手机群发短信的时候见到过</p>
</li>
<li>Data tables 用于桌面应用，忽略</li>
<li>Dialogs <ol>
<li>类型：1 alert 2 simple menu 3 simple dialog 4 confirmation dialog</li>
<li>全屏dialog和全屏的bottomsheet完全一样</li>
<li>打个比方，删除对话框：是否删除该条记录，两个选项文案应该是取消，删除，而不是取消，确定。</li>
<li>带有title的dialog用于高危的情况，需要用户确实知道情况。</li>
<li>simple dialog不需要cancel按钮，取消按钮总是放在左边</li>
<li>dialog中不要给用户模糊的选项</li>
<li>最后介绍了dialog的size</li>
</ol>
</li>
<li>Dividers 使用的注意事项，没啥特别的重点。</li>
<li>Expansion panels 用于创建和轻量的编辑</li>
<li><p>Grid lists 可用于替代标准的listview</p>
<ol>
<li>适合做imagegallery，介绍了一些尺寸，其实这种控件不是很常用，两行用cards更适合</li>
</ol>
</li>
<li><p>Lists</p>
<ol>
<li>超过两行的文案，建议使用cards</li>
<li>把最重要的内容放在左面，把最不重要的内容放在右边</li>
<li>各种list的size，list开发界面规范见此</li>
</ol>
</li>
<li><p>Lists: Controls list上的操作</p>
<ol>
<li>checkbox可以是主action，可以是辅action</li>
<li>Switch（开关），Reorder（重新，排序），Expand/collapse（展开收回）是辅action</li>
<li>Leave-behinds，隐藏操作，通过从左向右滑动item 或者从右向左滑动item，出现操作</li>
<li>menu是一类特别的list，操作规则适用于dropdown menus, overflow menus，和标准的list不一样</li>
</ol>
</li>
<li><p>Menus 一个暂时的选择列表，开发一般用popupwindow来实现</p>
<ol>
<li>menu必须在所有ui之上，而且要遮住当前要编辑的内容（这个和目前国内大部分app的设计<br>有些不一样）</li>
<li>使用simple menu来实现（见dialog那一章，提到了simple menu）</li>
<li>menu弹出的位置很有讲究，具体看配图</li>
<li>最后照例是尺寸说明</li>
</ol>
</li>
<li><p>Pickers 主要讲的就是date picker和timer picker，用系统自带的就行</p>
</li>
<li><p>Progress &amp; activity 这里指的是进度指示</p>
<ol>
<li>进度包括：确定的、不确定的、buffer缓冲的、不确定查询返回确定的值，常用的场景就是前3种</li>
<li>包括线条装loading，圆形loading</li>
<li>分阶段加载：容器先出来，内容再出来，不需要太细究</li>
</ol>
</li>
<li><p>Selection controls 用于选择的操作控件</p>
<ol>
<li>Checkbox 多选框</li>
<li>Radio button 单选框 </li>
<li>Switch 开关  </li>
<li>状态为hover, focused, pressed, disabled, and disabled focused states.</li>
</ol>
</li>
<li><p>Sliders 滑动条</p>
<ol>
<li>持续滑块，可以连续滑动</li>
<li>离散滑块（每一单元值是固定，单元是滑动最小单位）</li>
</ol>
</li>
<li><p>Snackbars &amp; toasts 都是简单用户操作反馈</p>
<ol>
<li>snackbar可以点掉，toast不行</li>
<li>snackbar不要挡住fab，把fab顶上去，snackbar不要加图标，尺寸和用法都在配图中说明了。</li>
</ol>
</li>
<li>Steppers 很实用的控件，用于表示一系列操作的进度，<font color="af8888">特别适合用于填复杂<br>表格，这样的需求，也很适合新版app的测验</font><ol>
<li>部分ui是tablet的ui，关心mobile就行，最后是尺寸说明</li>
</ol>
</li>
<li>Subheaders 子标题，看下尺寸说明就好</li>
<li>Tabs 顶部类目分类<ol>
<li>tab类目要同一等级，tab类目不要有子类目</li>
<li>tab页名字过长，可以两行，两行过长才用省略号表示</li>
<li>最后是尺寸</li>
</ol>
</li>
<li>Text fields 输入文案的控件<ol>
<li>输入type：<strong>Number</strong>: Phone number, credit card number, PIN；<strong>Text</strong>: Proper name, username, URL<br>；<strong>Mixed format</strong>: Email address, street address, search query</li>
<li>这边用的就是Textinputlayout</li>
<li>Single-line text field，尺寸说明</li>
<li>Multi-line text field，尺寸说明，超出行的最大限制，自动跳到下一行</li>
<li>Full-width text field，用于深入的书写</li>
<li>字数统计Character counter，监控字数用</li>
<li>自动补全和搜索过滤</li>
<li>最后介绍密码输入的各个情况,<strong>比较实用</strong></li>
</ol>
</li>
<li>Toolbars 没看懂</li>
<li>Tooltips 对于图标的功能说明<ol>
<li>长按1.5秒之后，弹出功能说明，比如最常用的optionmenu，item长按会出现说明</li>
</ol>
</li>
<li>Widgets 这里的widget指的是桌面小控件，暂时不涉及，而且没怎么看懂<h2 id="Patterns-模式，一些固定的模式套路，一类特定的问题"><a href="#Patterns-模式，一些固定的模式套路，一类特定的问题" class="headerlink" title="Patterns 模式，一些固定的模式套路，一类特定的问题"></a>Patterns 模式，一些固定的模式套路，一类特定的问题</h2></li>
<li>Confirmation and acknowledgement 证实确认会减少用户的疑虑，snackbar来完成这类任务</li>
<li>Data formats 一般用于日期时间，格式化，文案太长的，或者隐藏部分文案使用ellipses省略号</li>
<li>Errors <ol>
<li>如何处理error：明确告诉用户发生了什么，告诉用户如何解决，保存用户的输入（问题来了<br>都知道这样有问题，为啥不去处理，这里有问题）。</li>
<li>输入的问题，和上面的23节一样，输入错误的提示</li>
<li>同步异常，给用户再次连接的按钮</li>
<li>网络异常，提示网络异常</li>
</ol>
</li>
<li>Fingerprint 指纹，主要用于解锁和支付，登录注册，还有就是硬件支持指纹<br>极客学院找到中文版</li>
<li>Gestures 手势  <a href="http://wiki.jikexueyuan.com/project/material-design/patterns/gestures.html" target="_blank" rel="noopener">http://wiki.jikexueyuan.com/project/material-design/patterns/gestures.html</a> 和英文原版一模一样</li>
<li>Launch screens 启动页 <a href="http://wiki.jikexueyuan.com/project/material-design/patterns/launch-screens.html" target="_blank" rel="noopener">http://wiki.jikexueyuan.com/project/material-design/patterns/launch-screens.html</a></li>
<li>Loading images 如何取加载图片</li>
<li>Navigation 文章译文没有，讲了导航需要让用户清楚知晓，产品可以仔细看。<br>整理了一些概念，引入Hierarchy（层级），返回作为一种导航方式特地介绍。</li>
<li>Navigation drawer 其实之前list介绍时，已经介绍了，受到ios的影响，国内并不流行抽屉式的菜单。<br>这章主要介绍尺寸。</li>
<li>Navigational transitions 导航动画<ol>
<li>父view到子view</li>
<li>兄弟view切换，重点在于elevation，父到子elevation要有变化，体现层级不同，子到子elevation<br>不变</li>
</ol>
</li>
<li>Notifications 消息，一般和推送结合起来使用<ol>
<li>有事务的<br>有事务的包括：1.人与人交互的：短信电话 2.日常生活：闹钟 3. 修改某些状态用：暂停歌曲</li>
<li>没有事务的<br>没有事务的包括 1. Opt-out 2. Opt-in ,用户可以通过设置，不接受opt-out的信息</li>
<li>消息的创建应结合priority（优先级）和categories，具体的值和对应的意义，配图有说明<br>做到推送的时候，应该仔细阅读。</li>
</ol>
</li>
<li>Permissions 权限<ol>
<li>现在的权限都是，获取具体数据时获取的，不同于以往安装就获取权限。</li>
<li>重要的权限在应用第一次开启时询问</li>
<li>不重要的权限到具体使用时询问</li>
<li>如果用户拒绝了权限，下次操作要提示用户去设置里修改权限</li>
<li>如果涉及到核心权限被拒绝app无法正常运行，只能不让用户进入app</li>
</ol>
</li>
<li>Scrolling techniques 滑动操作 <a href="http://wiki.jikexueyuan.com/project/material-design/patterns/scrolling-techniques.html" target="_blank" rel="noopener">http://wiki.jikexueyuan.com/project/material-design/patterns/scrolling-techniques.html</a></li>
<li>Search 搜索，这个真没什么好说，做到了搜索可以参考下，之前Text fields 也有提到的</li>
<li>Selection 这个一般在webview中比较常见，长按选择文案，进行后续操作，暂时没实现过，就不多说。</li>
<li>Settings 让用户定义app应该做哪些事，定义了哪些do哪些don’t，开发到设置时，可以对比文档</li>
<li>Swipe to refresh 下拉刷新，和列表结合使用</li>
</ol>
<h2 id="Growth-amp-communications-成长沟通，指的是培养用户"><a href="#Growth-amp-communications-成长沟通，指的是培养用户" class="headerlink" title="Growth &amp; communications 成长沟通，指的是培养用户"></a>Growth &amp; communications 成长沟通，指的是培养用户</h2><ol>
<li>Onboarding 培训 说实话，这章对产品的体验而言很重要，但是需要投入大量的工作在其中。暂时不考虑</li>
<li>Feature discovery 用户引导，和上一节一样，重要体验好，但是暂时不考虑</li>
<li>Gesture education 效果目的很好，怎么实现是个问题</li>
</ol>
<h2 id="Usability-可用性"><a href="#Usability-可用性" class="headerlink" title="Usability 可用性"></a>Usability 可用性</h2><ol>
<li>Accessibility <a href="http://wiki.jikexueyuan.com/project/material-design/usability/accessibility.html" target="_blank" rel="noopener">http://wiki.jikexueyuan.com/project/material-design/usability/accessibility.html</a><br>译文和原文一样</li>
<li>Bidirectionality <a href="http://wiki.jikexueyuan.com/project/material-design/usability/bidirectionality.html" target="_blank" rel="noopener">http://wiki.jikexueyuan.com/project/material-design/usability/bidirectionality.html</a><br>译文和原文一样</li>
</ol>
<p>最后一章资源，提供了下载。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/11/29/material design/material-design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/29/material design/material-design/" itemprop="url">material design</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-29T14:15:29+08:00">2016-11-29</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>   之后要严格遵循material design来开发第二版，关于md所学所想会分享在这里。</p>
<ul>
<li><p>布局注意点：</p>
<pre><code>
1 基线格点
2 关键线
3 间距
4 触摸目标大小
5 布局结构</code></pre>
</li>
<li><p>新特性：</p>
<pre><code><font size="5">1. elevation:视图的高度，会影响投影</font>
translationZ:（暂时不知道效果，与elevation共同影响阴影）
阴影参考（https://developer.android.com/training/material/shadows-clipping.html）
<font size="5">2. 列表，卡片（比较宽大的item）</font>
卡片和列表参考（https://developer.android.com/training/material/lists-cards.html）
<font size="5">3. material主题</font>
使用material主题方便定制statusbar（需要5.0以上，基于国内情况，目前不支持，可以做个极客项目试试）
参考（https://developer.android.com/training/material/theme.html#Inheritance）
tint重新着色
palette 取色器，从图片中取色
vector 使用xml文件，来绘制icon，优势是占用apk空间小，而且完全适配
<font size="5">4. material动画</font>
触摸反馈 RippleDrawable
揭露效果 ViewAnimationUtils.createCircularReveal。（就是圆圈变大的效果）
行为转换 Transition 共享元素启动 参考（https://developer.android.com/training/material/animations.html#Reveal）
曲线运动 区别线性运动，针对的是动画Interpolator，前快后慢或者前慢后快
视图动画 StateListAnimator
<font size="5">5. 兼容性</font>
android5.0以下的兼容办法，参考（https://developer.android.com/training/material/compatibility.html#Layouts）
<font size="5">6. 动画特性</font>
xml属性 animateLayoutChanges
</code></pre>

</li>
</ul>
<ul>
<li>material 追求交互，对交互动画也有要求，动画要<font color="af8888">快速</font>，要<font color="af8888">简洁</font><br>app内的动画，体验要一致！</li>
</ul>
<p>我觉得有必要对material design的设计做个目录</p>
<p>单开一个文章<a href="http://clunyes.github.io/2016/12/1/material-design-目录.md/">md目录</a>.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/09/14/源码阅读/源码阅读计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/09/14/源码阅读/源码阅读计划/" itemprop="url">源码阅读计划</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-14T16:53:52+08:00">2016-09-14</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>   特开一篇日记来记录的我的源码阅读记录。</p>
<ul>
<li>学习无止境，第一个源码项目定为<a href="http://clunyes.github.io/2016/09/20/volley源码核心/">volley源码</a>.</li>
<li>因为我现在用的网络框架为retrofit+okhttp，第二个源码项目暂定为<a href="http://clunyes.github.io/2016/11/28/OkHttp学习/">okhttp3</a>.</li>
<li>马上会看retrofit（2016.11.28 长时间没更新一方面在开发新的app，一方面沉迷王者荣耀，现在脱坑啦）</li>
<li><p>目前正在对<a href="http://clunyes.github.io/2016/11/29/material-design/">material design</a>阅读，retrofit可能要延后了<br>（2016.12.5）</p>
<p>经过一段时间的学习。特补充一句，看源码，先看接口，再看实现。</p>
<p>看源码，先看接口，再看实现。</p>
<p>看源码，先看接口，再看实现。</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/09/14/react-native-实践/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/09/14/react-native-实践/" itemprop="url">react native 实践</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-14T16:41:49+08:00">2016-09-14</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>  最近解除了react native，发现这是未来的趋势，所以就投身进入rn的浪潮中。<br>目前，针对公司的产品摩课，进行rn化开发。<br>项目地址是<a href="https://github.com/clunyes/ReactMoke" target="_blank" rel="noopener">ReactMoke</a>，等到完成首页功能，我会另开一个项目基于redux开发。</p>
<p>  目前移动团队的目标也是开发一个rn与原生交叉的app。</p>
<p>  我们也会对react的思想进行学习。不得不说react native解放了移动端开发人员，不需要再频繁发版本，配合hotfix技术，<br>以后可以不再进行无谓的版本发布。</p>
<p>  但是，说一句目前的rn还是不太稳定，文档不丰富，坑还有一些，但是进行正常的需求还是可以满足的。</p>
<hr>
<p> 目前rn版本已经到0.41了</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://clunyes.github.io/2016/04/28/android tip/android-hot-patch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="clunyes">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clunyes_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/28/android tip/android-hot-patch/" itemprop="url">android hot patch</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-28T16:37:32+08:00">2016-04-28</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="deprecated-androidfix-bug实在太多，已经不用这个了。"><a href="#deprecated-androidfix-bug实在太多，已经不用这个了。" class="headerlink" title="deprecated:androidfix bug实在太多，已经不用这个了。"></a>deprecated:androidfix bug实在太多，已经不用这个了。</h4><p>昨天到今天完成andFix的部署，并且成功使用。<br>过程大致如下，</p>
<h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p>首先当然是集成项目<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">compile <span class="string">'com.alipay.euler:andfix:0.4.0@aar'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p>然后加上混淆的参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-dontwarn android.annotation</span><br><span class="line">-dontwarn com.alipay.euler.**</span><br><span class="line">-keep class com.alipay.euler.** &#123;*;&#125;</span><br><span class="line">-keep class * extends java.lang.annotation.Annotation</span><br><span class="line">-keepclasseswithmembernames class * &#123;</span><br><span class="line">    native &lt;methods&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>在application中初始化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String appversion = UtilDevice.getVersionName();</span><br><span class="line">UtilPatch.getInstance(this).initPatch(appversion);</span><br></pre></td></tr></table></figure></p>
<h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>下载完patch文件之后，addpatch，成功</p>
<h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p>patch文件如何生成呢，之后就是打补丁的过程了，首先生成一个apk文件，然后更改代码，在修复bug后生成另一个apk。<br>通过官方提供的工具apkpatch生成一个.apatch格式的补丁文件，需要提供原apk，修复后的apk，以及一个签名文件。<br>apkpatch -f fix.apk -t old.apk -o E:\patch -k &lt; key path &gt; -p &lt; password &gt; -a &lt; alias &gt; -e &lt; password &gt;</p>
<p>大约是这样的，目前我还没有加上推送，加上推送效果更好。</p>
<p>目前该项目已经被阿里hotfix替代</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="clunyes" />
            
              <p class="site-author-name" itemprop="name">clunyes</p>
              <p class="site-description motion-element" itemprop="description">好想去看dac</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">clunyes</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
